---
UID : NS:wdbgexts._DBGKD_GET_VERSION64
title : "_DBGKD_GET_VERSION64"
author : windows-driver-content
description : The IG_GET_KERNEL_VERSION Ioctl operation receives information related to the operating system version of the target.
old-location : debugger\ig_get_kernel_version.htm
old-project : debugger
ms.assetid : 692e58b5-74ea-48f3-a9c2-81953b7d600d
ms.author : windowsdriverdev
ms.date : 1/19/2018
ms.keywords : PDBGKD_GET_VERSION64 structure pointer [Windows Debugging], PDBGKD_GET_VERSION64, debugger.ig_get_kernel_version, _DBGKD_GET_VERSION64, *PDBGKD_GET_VERSION64, WdbgExts_Ref_33e7f185-3831-439b-9e92-8d942627f66b.xml, DBGKD_GET_VERSION64 structure [Windows Debugging], wdbgexts/DBGKD_GET_VERSION64, wdbgexts/PDBGKD_GET_VERSION64, DBGKD_GET_VERSION64
ms.prod : windows-hardware
ms.technology : windows-devices
ms.topic : struct
req.header : wdbgexts.h
req.include-header : Wdbgexts.h, Dbgeng.h
req.target-type : Windows
req.target-min-winverclnt : 
req.target-min-winversvr : 
req.kmdf-ver : 
req.umdf-ver : 
req.ddi-compliance : 
req.unicode-ansi : 
req.idl : 
req.max-support : 
req.namespace : 
req.assembly : 
req.type-library : 
req.lib : 
req.dll : 
req.irql : 
topictype : 
apitype : 
apilocation : 
apiname : 
product : Windows
targetos : Windows
req.typenames : DBGKD_GET_VERSION64, *PDBGKD_GET_VERSION64
req.product : Windows 10 or later.
---

# _DBGKD_GET_VERSION64 structure
The IG_GET_KERNEL_VERSION <a href="..\wdbgexts\nc-wdbgexts-pwindbg_ioctl_routine.md">Ioctl</a> operation receives information related to the operating system version of the target.  When calling <b>Ioctl</b> with <i>IoctlType</i> set to IG_GET_KERNEL_VERSION, <i>IpvData</i> should contain an instance of the DBGKD_GET_VERSION64 structure.

## Syntax
````
typedef struct _DBGKD_GET_VERSION64 {
  USHORT  MajorVersion;
  USHORT  MinorVersion;
  UCHAR   ProtocolVersion;
  UCHAR   KdSecondaryVersion;
  USHORT  Flags;
  USHORT  MachineType;
  UCHAR   MaxPacketType;
  UCHAR   MaxStateChange;
  UCHAR   MaxManipulate;
  UCHAR   Simulation;
  USHORT  Unused[1];
  ULONG64 KernBase;
  ULONG64 PsLoadedModuleList;
  ULONG64 DebuggerDataList;
} DBGKD_GET_VERSION64, *PDBGKD_GET_VERSION64;
````

## Members


`DebuggerDataList`

Receives the value of the kernel variable <b>KdDebuggerDataBlock</b>.  This a pointer to either a KDDEBUGGER_DATA64 structure or a KDDEBUGGER_DATA32 structure.  Use the function <a href="..\wdbgexts\nf-wdbgexts-getdebuggerdata.md">GetDebuggerData</a> to fetch this structure.

`Flags`

Receives a set of bit flags for the current debugging session.  The following flags can be present.
<table>
<tr>
<th>Flag</th>
<th>Meaning when set</th>
</tr>
<tr>
<td>
DBGKD_VERS_FLAG_MP

</td>
<td>
The target kernel was compiled with support for multiple processors.

</td>
</tr>
<tr>
<td>
DBGKD_VERS_FLAG_DATA

</td>
<td>
The list <b>DebuggerDataList</b> is valid.

</td>
</tr>
<tr>
<td>
DBGKD_VERS_FLAG_PTR64

</td>
<td>
The target uses 64-bit pointers.

</td>
</tr>
<tr>
<td>
DBGKD_VERS_FLAG_NOMM

</td>
<td>
The debugger's memory cache is active.  If this is not set, the debugger will convert all virtual addresses into physical address before accessing the target's memory.

</td>
</tr>
<tr>
<td>
DBGKD_VERS_FLAG_HSS

</td>
<td>
The target supports hardware stepping.

</td>
</tr>
<tr>
<td>
DBGKD_VERS_FLAG_PARTITIONS

</td>
<td>
Multiple operating system partitions exist.

</td>
</tr>
</table>

`KdSecondaryVersion`

Receives a secondary version number that is used to distinguish among older, deprecated contexts.

`KernBase`

Receives the base address of the kernel image.

`MachineType`

Receives the type of the target's processor.  Possible processor types are listed in the following table.
<table>
<tr>
<th>Value</th>
<th>Processor</th>
</tr>
<tr>
<td>
IMAGE_FILE_MACHINE_I386

</td>
<td>
x86 architecture

</td>
</tr>
<tr>
<td>
IMAGE_FILE_MACHINE_ARM

</td>
<td>
ARM architecture

</td>
</tr>
<tr>
<td>
IMAGE_FILE_MACHINE_IA64

</td>
<td>
Intel Itanium architecture

</td>
</tr>
<tr>
<td>
IMAGE_FILE_MACHINE_AMD64

</td>
<td>
x64 architecture

</td>
</tr>
<tr>
<td>
IMAGE_FILE_MACHINE_EBC

</td>
<td>
EFI byte code architecture

</td>
</tr>
</table>

`MajorVersion`

Receives 0xF if the target's operating system is a free build, and 0xC if it is a checked build.

`MaxManipulate`

Receives one more that the highest number, recognized by the target, for a command to manipulate the target.

`MaxPacketType`

Receives one plus the highest number for a debugger packet type recognized by the target.

`MaxStateChange`

Receives one plus the highest number for a state change generated by the target.

`MinorVersion`

Receives the build number for the target's operating system.

`ProtocolVersion`

Receives the version of the debugger protocol that is used to communicate between the debugger and the target.

`PsLoadedModuleList`

Receives the value of the kernel variable <b>PsLoadedModuleList</b>.

`Simulation`

Receives an indication if the target is in simulated execution.  Possible values are listed in the following table.
<table>
<tr>
<th>Value</th>
<th>Processor</th>
</tr>
<tr>
<td>
DBGKD_SIMULATION_NONE

</td>
<td>
No simulation is used.

</td>
</tr>
<tr>
<td>
DBGKD_SIMULATION_EXDI

</td>
<td>
EXDI simulation is used.

</td>
</tr>
</table>

`Unused`

Unused.

## Remarks
The parameters for the IG_GET_KERNEL_VERSION <a href="..\wdbgexts\nc-wdbgexts-pwindbg_ioctl_routine.md">Ioctl</a> operation are the members of the DBGKD_GET_VERSION64 structure.

This operation is only available in kernel-mode debugging.

## Requirements
| &nbsp; | &nbsp; |
| ---- |:---- |
| **Header** | wdbgexts.h (include Wdbgexts.h, Dbgeng.h) |

## See Also

<a href="..\wdbgexts\nf-wdbgexts-getdebuggerdata.md">GetDebuggerData</a>

<a href="..\wdbgexts\nc-wdbgexts-pwindbg_ioctl_routine.md">Ioctl</a>

 

 

<a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [debugger\debugger]:%20DBGKD_GET_VERSION64 structure%20 RELEASE:%20(1/19/2018)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a>