---
UID: NS.wdbgexts._DBGKD_GET_VERSION64
title: DBGKD_GET_VERSION64
author: windows-driver-content
description: The IG_GET_KERNEL_VERSION Ioctl operation receives information related to the operating system version of the target.
old-location: debugger\ig_get_kernel_version.htm
old-project: debugger
ms.assetid: 692e58b5-74ea-48f3-a9c2-81953b7d600d
ms.author: windowsdriverdev
ms.date: 11/30/2017
ms.keywords: DBGKD_GET_VERSION64, DBGKD_GET_VERSION64, *PDBGKD_GET_VERSION64
ms.prod: windows-hardware
ms.technology: windows-devices
ms.topic: struct
req.header: wdbgexts.h
req.include-header: Wdbgexts.h, Dbgeng.h
req.target-type: Windows
req.target-min-winverclnt: 
req.target-min-winversvr: 
req.kmdf-ver: 
req.umdf-ver: 
req.alt-api: DBGKD_GET_VERSION64
req.alt-loc: wdbgexts.h
req.ddi-compliance: 
req.unicode-ansi: 
req.idl: 
req.max-support: 
req.namespace: 
req.assembly: 
req.type-library: 
req.lib: 
req.dll: 
req.irql: 
req.iface: 
req.product: Windows 10 or later.
---

# DBGKD_GET_VERSION64 structure



## -description
<p>The IG_GET_KERNEL_VERSION <a href="debugger.ioctl">Ioctl</a> operation receives information related to the operating system version of the target.  When calling <b>Ioctl</b> with <i>IoctlType</i> set to IG_GET_KERNEL_VERSION, <i>IpvData</i> should contain an instance of the DBGKD_GET_VERSION64 structure.</p>


## -syntax

````
typedef struct _DBGKD_GET_VERSION64 {
  USHORT  MajorVersion;
  USHORT  MinorVersion;
  UCHAR   ProtocolVersion;
  UCHAR   KdSecondaryVersion;
  USHORT  Flags;
  USHORT  MachineType;
  UCHAR   MaxPacketType;
  UCHAR   MaxStateChange;
  UCHAR   MaxManipulate;
  UCHAR   Simulation;
  USHORT  Unused[1];
  ULONG64 KernBase;
  ULONG64 PsLoadedModuleList;
  ULONG64 DebuggerDataList;
} DBGKD_GET_VERSION64, *PDBGKD_GET_VERSION64;
````


## -struct-fields
<dl>

### -field MajorVersion

<dd>
<p>Receives 0xF if the target's operating system is a free build, and 0xC if it is a checked build.</p>
</dd>

### -field MinorVersion

<dd>
<p>Receives the build number for the target's operating system.</p>
</dd>

### -field ProtocolVersion

<dd>
<p>Receives the version of the debugger protocol that is used to communicate between the debugger and the target.</p>
</dd>

### -field KdSecondaryVersion

<dd>
<p>Receives a secondary version number that is used to distinguish among older, deprecated contexts.</p>
</dd>

### -field Flags

<dd>
<p>Receives a set of bit flags for the current debugging session.  The following flags can be present.</p>
<table>
<tr>
<th>Flag</th>
<th>Meaning when set</th>
</tr>
<tr>
<td>
<p>DBGKD_VERS_FLAG_MP</p>
</td>
<td>
<p>The target kernel was compiled with support for multiple processors.</p>
</td>
</tr>
<tr>
<td>
<p>DBGKD_VERS_FLAG_DATA</p>
</td>
<td>
<p>The list <b>DebuggerDataList</b> is valid.</p>
</td>
</tr>
<tr>
<td>
<p>DBGKD_VERS_FLAG_PTR64</p>
</td>
<td>
<p>The target uses 64-bit pointers.</p>
</td>
</tr>
<tr>
<td>
<p>DBGKD_VERS_FLAG_NOMM</p>
</td>
<td>
<p>The debugger's memory cache is active.  If this is not set, the debugger will convert all virtual addresses into physical address before accessing the target's memory.</p>
</td>
</tr>
<tr>
<td>
<p>DBGKD_VERS_FLAG_HSS</p>
</td>
<td>
<p>The target supports hardware stepping.</p>
</td>
</tr>
<tr>
<td>
<p>DBGKD_VERS_FLAG_PARTITIONS</p>
</td>
<td>
<p>Multiple operating system partitions exist.</p>
</td>
</tr>
</table>
<p> </p>
</dd>

### -field MachineType

<dd>
<p>Receives the type of the target's processor.  Possible processor types are listed in the following table.</p>
<table>
<tr>
<th>Value</th>
<th>Processor</th>
</tr>
<tr>
<td>
<p>IMAGE_FILE_MACHINE_I386</p>
</td>
<td>
<p>x86 architecture</p>
</td>
</tr>
<tr>
<td>
<p>IMAGE_FILE_MACHINE_ARM</p>
</td>
<td>
<p>ARM architecture</p>
</td>
</tr>
<tr>
<td>
<p>IMAGE_FILE_MACHINE_IA64</p>
</td>
<td>
<p>Intel Itanium architecture</p>
</td>
</tr>
<tr>
<td>
<p>IMAGE_FILE_MACHINE_AMD64</p>
</td>
<td>
<p>x64 architecture</p>
</td>
</tr>
<tr>
<td>
<p>IMAGE_FILE_MACHINE_EBC</p>
</td>
<td>
<p>EFI byte code architecture</p>
</td>
</tr>
</table>
<p> </p>
</dd>

### -field MaxPacketType

<dd>
<p>Receives one plus the highest number for a debugger packet type recognized by the target.</p>
</dd>

### -field MaxStateChange

<dd>
<p>Receives one plus the highest number for a state change generated by the target.</p>
</dd>

### -field MaxManipulate

<dd>
<p>Receives one more that the highest number, recognized by the target, for a command to manipulate the target.</p>
</dd>

### -field Simulation

<dd>
<p>Receives an indication if the target is in simulated execution.  Possible values are listed in the following table.</p>
<table>
<tr>
<th>Value</th>
<th>Processor</th>
</tr>
<tr>
<td>
<p>DBGKD_SIMULATION_NONE</p>
</td>
<td>
<p>No simulation is used.</p>
</td>
</tr>
<tr>
<td>
<p>DBGKD_SIMULATION_EXDI</p>
</td>
<td>
<p>EXDI simulation is used.</p>
</td>
</tr>
</table>
<p> </p>
</dd>

### -field Unused

<dd>
<p>Unused.</p>
</dd>

### -field KernBase

<dd>
<p>Receives the base address of the kernel image.</p>
</dd>

### -field PsLoadedModuleList

<dd>
<p>Receives the value of the kernel variable <b>PsLoadedModuleList</b>.</p>
</dd>

### -field DebuggerDataList

<dd>
<p>Receives the value of the kernel variable <b>KdDebuggerDataBlock</b>.  This a pointer to either a KDDEBUGGER_DATA64 structure or a KDDEBUGGER_DATA32 structure.  Use the function <a href="..\wdbgexts\nf-wdbgexts-getdebuggerdata.md">GetDebuggerData</a> to fetch this structure.</p>
</dd>
</dl>

## -remarks
<p>The parameters for the IG_GET_KERNEL_VERSION <a href="debugger.ioctl">Ioctl</a> operation are the members of the DBGKD_GET_VERSION64 structure.</p>

<p>This operation is only available in kernel-mode debugging.</p>

## -requirements
<table>
<tr>
<th width="30%">
<p>Header</p>
</th>
<td width="70%">
<dl>
<dt>Wdbgexts.h (include Wdbgexts.h or Dbgeng.h)</dt>
</dl>
</td>
</tr>
</table>

## -see-also
<dl>
<dt>
<a href="debugger.ioctl">Ioctl</a>
</dt>
<dt>
<a href="..\wdbgexts\nf-wdbgexts-getdebuggerdata.md">GetDebuggerData</a>
</dt>
</dl>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [debugger\debugger]:%20DBGKD_GET_VERSION64 structure%20 RELEASE:%20(11/30/2017)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
