---
UID: NS.ntddstor._STORAGE_OFFLOAD_READ_OUTPUT
title: STORAGE_OFFLOAD_READ_OUTPUT
author: windows-driver-content
description: The STORAGE_OFFLOAD_READ_OUTPUT structure is the output of an IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES control code request when the Action member of DEVICE_MANAGE_DATA_SET_ATTRIBUTES is set to DeviceDsmAction_OffloadRead.
old-location: storage\storage_offload_read_output.htm
old-project: storage
ms.assetid: 3C94D493-8033-4344-BC45-A2274E5A8963
ms.author: windowsdriverdev
ms.date: 11/15/2017
ms.keywords: STORAGE_OFFLOAD_READ_OUTPUT, STORAGE_OFFLOAD_READ_OUTPUT, *PSTORAGE_OFFLOAD_READ_OUTPUT
ms.prod: windows-hardware
ms.technology: windows-devices
ms.topic: struct
req.header: ntddstor.h
req.include-header: Ntddstor.h
req.target-type: Windows
req.target-min-winverclnt: Available in Windows 8 and later versions of Windows.
req.target-min-winversvr: 
req.kmdf-ver: 
req.umdf-ver: 
req.alt-api: STORAGE_OFFLOAD_READ_OUTPUT
req.alt-loc: ntddstor.h
req.ddi-compliance: 
req.unicode-ansi: 
req.idl: 
req.max-support: 
req.namespace: 
req.assembly: 
req.type-library: 
req.lib: 
req.dll: 
req.irql: 
req.iface: 
---

# STORAGE_OFFLOAD_READ_OUTPUT structure



## -description
<p>The <b>STORAGE_OFFLOAD_READ_OUTPUT</b> structure is the output of  an <a href="..\ntddstor\ni-ntddstor-ioctl-storage-manage-data-set-attributes.md">IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES</a> control code request when the <b>Action</b> member of <a href="..\ntddstor\ns-ntddstor--device-manage-data-set-attributes.md">DEVICE_MANAGE_DATA_SET_ATTRIBUTES</a> is set to <b>DeviceDsmAction_OffloadRead</b>.</p>
<p>A returned token uniquely identifies the data set ranges requested in <a href="..\ntddstor\ns-ntddstor--device-manage-data-set-attributes.md">DEVICE_MANAGE_DATA_SET_ATTRIBUTES</a>. In conjunction with <b>DEVICE_MANAGE_DATA_SET_ATTRIBUTES</b>, the <a href="..\ntddstor\ns-ntddstor--device-dsm-offload-read-parameters.md">DEVICE_DSM_OFFLOAD_READ_PARAMETERS</a>  structure specifies how long the data set ranges identified by the returned token remain available for subsequent writing.</p>


## -syntax

````
typedef struct _STORAGE_OFFLOAD_READ_OUTPUT {
  ULONG     OffloadReadFlags;
  ULONG     Reserved;
  ULONGLONG LengthProtected;
  ULONG     TokenLength;
  UCHAR     Token[DSM_OFFLOAD_MAX_TOKEN_LENGTH];
} STORAGE_OFFLOAD_READ_OUTPUT, *PSTORAGE_OFFLOAD_READ_OUTPUT;
````


## -struct-fields
<dl>

### -field OffloadReadFlags

<dd>
<p>Not used. Set to 0.</p>
</dd>

### -field Reserved

<dd>
<p>Reserved.</p>
</dd>

### -field LengthProtected

<dd>
<p>The total length, in bytes, of data read and held by the copy provider for <b>Token</b>.</p>
</dd>

### -field TokenLength

<dd>
<p>The length, in bytes, of <b>Token</b>.</p>
</dd>

### -field Token

<dd>
<p>A unique identifier returned by the copy provider, marking the data set ranges that are read.</p>
</dd>
</dl>

## -remarks
<p>The <b>STORAGE_OFFLOAD_READ_OUTPUT</b> structure is returned at the beginning of the system buffer.</p>

<p>The value for <b>Token</b> is generated by the copy provider of the storage device. The data set ranges included when  the <a href="..\ntddstor\ns-ntddstor--device-manage-data-set-attributes.md">DEVICE_MANAGE_DATA_SET_ATTRIBUTES</a> structure was sent in the <a href="..\ntddstor\ni-ntddstor-ioctl-storage-manage-data-set-attributes.md">IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES</a> control code request are marked by <b>Token</b>. The data set ranges associated with <b>Token</b> are available for subsequent write requests while the duration in the <b>TimeToLive</b> member of <a href="..\ntddstor\ns-ntddstor--device-dsm-offload-read-parameters.md">DEVICE_DSM_OFFLOAD_READ_PARAMETERS</a> is valid.</p>

## -requirements
<table>
<tr>
<th width="30%">
<p>Version</p>
</th>
<td width="70%">
<p>Available in Windows 8 and later versions of Windows.</p>
</td>
</tr>
<tr>
<th width="30%">
<p>Header</p>
</th>
<td width="70%">
<dl>
<dt>Ntddstor.h (include Ntddstor.h)</dt>
</dl>
</td>
</tr>
</table>

## -see-also
<dl>
<dt>
<a href="..\ntddstor\ns-ntddstor--device-dsm-offload-read-parameters.md">DEVICE_DSM_OFFLOAD_READ_PARAMETERS</a>
</dt>
<dt>
<a href="..\ntddstor\ns-ntddstor--device-manage-data-set-attributes.md">DEVICE_MANAGE_DATA_SET_ATTRIBUTES</a>
</dt>
<dt>
<a href="..\ntddstor\ni-ntddstor-ioctl-storage-manage-data-set-attributes.md">IOCTL_STORAGE_MANAGE_DATA_SET_ATTRIBUTES</a>
</dt>
</dl>
<p> </p>
<p> </p>
<p><a href="mailto:wsddocfb@microsoft.com?subject=Documentation%20feedback [storage\storage]:%20STORAGE_OFFLOAD_READ_OUTPUT structure%20 RELEASE:%20(11/15/2017)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AWe use your feedback to improve the documentation. We don't use your email address for any other purpose, and we'll remove your email address from our system after the issue that you're reporting is fixed. While we're working to fix this issue, we might send you an email message to ask for more info. Later, we might also send you an email message to let you know that we've addressed your feedback.%0A%0AFor more info about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx." title="Send comments about this topic to Microsoft">Send comments about this topic to Microsoft</a></p>
